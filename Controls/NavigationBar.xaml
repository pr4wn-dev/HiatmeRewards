<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="HiatMeApp.Controls.NavigationBar">
    <ContentView.Resources>
        <Style x:Key="NavButtonStyle" TargetType="Button">
            <Setter Property="BackgroundColor" Value="#444444" />
            <Setter Property="TextColor" Value="White" />
            <Setter Property="FontSize" Value="28" />
            <Setter Property="FontFamily" Value="MaterialIcons" />
            <Setter Property="HeightRequest" Value="56" />
            <Setter Property="WidthRequest" Value="56" />
            <Setter Property="CornerRadius" Value="12" />
            <Setter Property="Margin" Value="6,0" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="HorizontalOptions" Value="Center" />
            <Setter Property="VerticalOptions" Value="Center" />
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="Pressed">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#007BFF" />
                                <Setter Property="Scale" Value="0.95" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>
        <Style x:Key="ArrowButtonStyle" TargetType="Button">
            <Setter Property="BackgroundColor" Value="#555555" />
            <Setter Property="TextColor" Value="White" />
            <Setter Property="FontSize" Value="22" />
            <Setter Property="FontFamily" Value="MaterialIcons" />
            <Setter Property="HeightRequest" Value="56" />
            <Setter Property="WidthRequest" Value="36" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="VerticalOptions" Value="Center" />
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="Pressed">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#007BFF" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>
    </ContentView.Resources>
    
    <Grid BackgroundColor="#2A2A2A" HeightRequest="70" Padding="5,7" ColumnDefinitions="Auto,*,Auto">
        <!-- Left Arrow -->
        <Button x:Name="LeftArrowBtn" 
                Grid.Column="0" 
                Text="&#xE314;" 
                Style="{StaticResource ArrowButtonStyle}"
                Clicked="OnLeftArrowClicked" />
        
        <!-- Scrollable Navigation Items -->
        <ScrollView x:Name="NavScrollView" 
                    Grid.Column="1" 
                    Orientation="Horizontal" 
                    HorizontalScrollBarVisibility="Never"
                    VerticalOptions="Center"
                    Margin="4,0">
            <HorizontalStackLayout x:Name="NavButtonsContainer" Spacing="4" VerticalOptions="Center">
                <!-- Home -->
                <Button Text="&#xE88A;" Style="{StaticResource NavButtonStyle}" 
                        Command="{Binding GoToHomeCommand}"
                        ToolTipProperties.Text="Home" />
                
                <!-- Profile -->
                <Button Text="&#xE853;" Style="{StaticResource NavButtonStyle}" 
                        Command="{Binding GoToProfileCommand}"
                        ToolTipProperties.Text="Profile" />
                
                <!-- Request Day Off -->
                <Button Text="&#xE916;" Style="{StaticResource NavButtonStyle}"
                        Command="{Binding GoToRequestDayOffCommand}"
                        ToolTipProperties.Text="Request Day Off" />
                
                <!-- Vehicle (role-based) -->
                <Button Text="&#xE531;" Style="{StaticResource NavButtonStyle}" 
                        IsVisible="{Binding IsVehicleButtonVisible}" 
                        Command="{Binding GoToVehicleCommand}"
                        ToolTipProperties.Text="My Vehicle" />
                
                <!-- Vehicle Issues (role-based) -->
                <Button Text="&#xE8B2;" Style="{StaticResource NavButtonStyle}" 
                        IsVisible="{Binding IsIssuesButtonVisible}" 
                        Command="{Binding GoToIssuesCommand}"
                        ToolTipProperties.Text="Vehicle Issues" />
                
                <!-- Finish Day -->
                <Button Text="&#xE8AF;" Style="{StaticResource NavButtonStyle}" 
                        Command="{Binding GoToFinishDayCommand}"
                        ToolTipProperties.Text="Finish Day" />
                
                <!-- Developer Tools -->
                <Button Text="&#xE8B8;" Style="{StaticResource NavButtonStyle}" 
                        Command="{Binding GoToViewLogCommand}"
                        ToolTipProperties.Text="Developer Tools" />
            </HorizontalStackLayout>
        </ScrollView>
        
        <!-- Right Arrow -->
        <Button x:Name="RightArrowBtn" 
                Grid.Column="2" 
                Text="&#xE315;" 
                Style="{StaticResource ArrowButtonStyle}"
                Clicked="OnRightArrowClicked" />
    </Grid>
</ContentView>
