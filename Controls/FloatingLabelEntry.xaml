<?xml version="1.0" encoding="utf-8" ?>
<Grid xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
      xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
      x:Class="HiatMeApp.Controls.FloatingLabelEntry"
      Margin="0,8"
      HeightRequest="60">
    <Border x:Name="EntryBorder"
            Stroke="#666666"
            StrokeThickness="1"
            StrokeShape="RoundRectangle 4,4,4,4"
            BackgroundColor="#444444"
            Padding="12,0"
            HeightRequest="60">
        <Entry x:Name="EntryField"
               BackgroundColor="Transparent"
               TextColor="White"
               Placeholder=""
               FontSize="18"
               FontFamily="Arial"
               HeightRequest="60"
               VerticalOptions="Fill"
               HorizontalOptions="Fill"
               Margin="0"
               ClearButtonVisibility="WhileEditing" />
    </Border>
    
    <Label x:Name="FloatingLabel"
           InputTransparent="True"
           TextColor="#AAAAAA"
           FontSize="18"
           FontFamily="Arial"
           BackgroundColor="Transparent"
           Margin="16,18,0,0"
           VerticalOptions="Start"
           HorizontalOptions="Start"
           LineBreakMode="NoWrap">
        <Label.Triggers>
            <!-- Show as floating label (small, top) when has text -->
            <DataTrigger TargetType="Label"
                         Binding="{Binding Source={x:Reference EntryField}, Path=Text}"
                         Value="{x:Null}">
                <Setter Property="Margin" Value="16,2,0,0" />
                <Setter Property="FontSize" Value="12" />
                <Setter Property="TextColor" Value="#AAAAAA" />
            </DataTrigger>
            <!-- Show as floating label when text is not empty -->
            <MultiTrigger TargetType="Label">
                <MultiTrigger.Conditions>
                    <BindingCondition Binding="{Binding Source={x:Reference EntryField}, Path=Text}" Operator="NotEqual" Value="" />
                </MultiTrigger.Conditions>
                <Setter Property="Margin" Value="16,2,0,0" />
                <Setter Property="FontSize" Value="12" />
                <Setter Property="TextColor" Value="#AAAAAA" />
            </MultiTrigger>
            <!-- Show as floating label when focused (even if empty) -->
            <DataTrigger TargetType="Label"
                         Binding="{Binding Source={x:Reference EntryField}, Path=IsFocused}"
                         Value="True">
                <Setter Property="Margin" Value="16,2,0,0" />
                <Setter Property="FontSize" Value="12" />
                <Setter Property="TextColor" Value="#AAAAAA" />
            </DataTrigger>
        </Label.Triggers>
    </Label>
</Grid>

